{"version":3,"sources":["webpack:///src/components/pages/frontend/Products.vue","webpack:///./src/components/pages/frontend/Products.vue?2c79","webpack:///./src/components/pages/frontend/Products.vue"],"names":["Products","data","created","this","getProducts","computed","extends_default","Object","vuex_esm","methods","selectCategory","name","$store","commit","addtoCart","id","qty","arguments","length","undefined","target","cart","carts","filter","item","product_id","originCartId","originQty","originProductId","newQty","Number","dispatch","frontend_Products","render","_vm","_h","$createElement","_c","_self","attrs","staticClass","aria-label","to","_v","aria-current","class","active","category","href","on","click","$event","preventDefault","icon","staticStyle","font-weight","transform","value","_l","key","style","backgroundImage","params","_s","title","description","_f","price","origin_price","_e","type","staticRenderFns","Component","__webpack_require__","normalizeComponent","__webpack_exports__"],"mappings":"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","file":"static/js/5.56af0edf69bb6784618b.js","sourcesContent":["<template>\n  <div id=\"porducts\">\n    <div class=\"container p-3 p-md-4\">\n      <nav aria-label=\"breadcrumb \">\n        <ol class=\"breadcrumb bg-white\">\n          <li class=\"breadcrumb-item\">\n            <router-link to=\"/index\" class=\"text-gray-600\">首頁</router-link>\n          </li>\n          <li class=\"breadcrumb-item text-secondary active\" aria-current=\"page\">購物商場</li>\n        </ol>\n      </nav>\n      <div class=\"products row\">\n        <div class=\"sort col-lg-2\">\n          <ul class=\"sort-items list-unstyled d-flex flex-lg-column justify-content-around\">\n            <li>\n              <a\n                href=\"#\"\n                class=\"rounded bg-secondary px-1 px-sm-3\"\n                :class=\"{ 'active': category === 'all' }\"\n                @click.prevent=\"selectCategory('all')\"\n              >\n                <font-awesome-icon icon=\"box-open\" class=\"mr-1\"/>所有商品\n              </a>\n            </li>\n            <li>\n              <a\n                href=\"#\"\n                class=\"rounded bg-secondary px-1 px-sm-3\"\n                :class=\"{ 'active': category === '最新商品' }\"\n                @click.prevent=\"selectCategory('最新商品')\"\n              >\n                <font-awesome-layers class=\"fa-size mr-1\">\n                  <font-awesome-icon icon=\"certificate\" class=\"text-light-red\"/>\n                  <font-awesome-layers-text\n                    class=\"fa-inverse\"\n                    transform=\"shrink-11.5 rotate--30\"\n                    value=\"NEW\"\n                    style=\"font-weight:900\"\n                  />\n                </font-awesome-layers>最新商品\n              </a>\n            </li>\n            <li>\n              <a\n                href=\"#\"\n                class=\"rounded bg-secondary px-1 px-sm-3\"\n                :class=\"{ 'active': category === '誠心推薦' }\"\n                @click.prevent=\"selectCategory('誠心推薦')\"\n              >\n                <font-awesome-icon icon=\"thumbs-up\" class=\"mr-1\"/>誠心推薦\n              </a>\n            </li>\n          </ul>\n        </div>\n        <div class=\"products-list col-lg-10\">\n          <div class=\"row\">\n            <div\n              class=\"col-lg-4 col-md-6 col-12 mb-3\"\n              v-for=\"item in categoryProducts\"\n              :key=\"item.id\"\n            >\n              <div class=\"card product-card\">\n                <div class=\"product-img\" :style=\"{ 'backgroundImage':`url('${item.imageUrl}')` }\">\n                  <router-link :to=\"{ name: 'ProductDetail', params: { id: item.id }}\">\n                    <div class=\"more\">詳細商品...</div>\n                  </router-link>\n                </div>\n                <div class=\"card-body p-0 pt-4 pm-2 align-items-\">\n                  <h5 class=\"card-title\">{{ item.title }}</h5>\n                  <p class=\"card-text card-content text-gray-700\">{{ item.description }}</p>\n                  <div class=\"card-price pt-3 d-flex justify-content-between align-items-end\">\n                    <span class=\"price text-danger\">{{ item.price | currency }} 元</span>\n                    <span\n                      class=\"orange-price\"\n                      v-if=\"item.origin_price\"\n                    >{{ item.origin_price | currency }} 元</span>\n                  </div>\n                  <button\n                    type=\"button\"\n                    class=\"btn btn-outline-secondary w-100 mt-3\"\n                    @click=\"addtoCart(item.id)\"\n                  >加入購物車</button>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { mapGetters, mapActions } from \"vuex\";\n\nexport default {\n  data() {\n    return {};\n  },\n  created() {\n    this.getProducts();\n  },\n  computed: {\n    ...mapGetters(\"productsModules\", [\n      \"products\",\n      \"category\",\n      \"categoryProducts\"\n    ]),\n    ...mapGetters(\"cartModules\", [\"cart\"])\n  },\n  methods: {\n    ...mapActions(\"productsModules\", [\"getProducts\"]),\n    selectCategory(name) {\n      this.$store.commit(\"productsModules/SELECTCATEGORY\", name);\n    },\n    addtoCart(id, qty = 1) {\n      const target = this.cart.carts.filter(item => item.product_id === id);\n      if (target.length > 0) {\n        const originCartId = target[0].id;\n        const originQty = target[0].qty;\n        const originProductId = target[0].product_id;\n        const newQty = Number(qty) + Number(originQty);\n        this.$store.dispatch(\"cartModules/changeQty\", { originCartId, originProductId, newQty });\n      } else {\n        this.$store.dispatch(\"cartModules/addtoCart\", { id, qty });\n      }\n\n    }\n  }\n};\n</script>\n\n\n// WEBPACK FOOTER //\n// src/components/pages/frontend/Products.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"porducts\"}},[_c('div',{staticClass:\"container p-3 p-md-4\"},[_c('nav',{attrs:{\"aria-label\":\"breadcrumb \"}},[_c('ol',{staticClass:\"breadcrumb bg-white\"},[_c('li',{staticClass:\"breadcrumb-item\"},[_c('router-link',{staticClass:\"text-gray-600\",attrs:{\"to\":\"/index\"}},[_vm._v(\"首頁\")])],1),_vm._v(\" \"),_c('li',{staticClass:\"breadcrumb-item text-secondary active\",attrs:{\"aria-current\":\"page\"}},[_vm._v(\"購物商場\")])])]),_vm._v(\" \"),_c('div',{staticClass:\"products row\"},[_c('div',{staticClass:\"sort col-lg-2\"},[_c('ul',{staticClass:\"sort-items list-unstyled d-flex flex-lg-column justify-content-around\"},[_c('li',[_c('a',{staticClass:\"rounded bg-secondary px-1 px-sm-3\",class:{ 'active': _vm.category === 'all' },attrs:{\"href\":\"#\"},on:{\"click\":function($event){$event.preventDefault();return _vm.selectCategory('all')}}},[_c('font-awesome-icon',{staticClass:\"mr-1\",attrs:{\"icon\":\"box-open\"}}),_vm._v(\"所有商品\\n            \")],1)]),_vm._v(\" \"),_c('li',[_c('a',{staticClass:\"rounded bg-secondary px-1 px-sm-3\",class:{ 'active': _vm.category === '最新商品' },attrs:{\"href\":\"#\"},on:{\"click\":function($event){$event.preventDefault();return _vm.selectCategory('最新商品')}}},[_c('font-awesome-layers',{staticClass:\"fa-size mr-1\"},[_c('font-awesome-icon',{staticClass:\"text-light-red\",attrs:{\"icon\":\"certificate\"}}),_vm._v(\" \"),_c('font-awesome-layers-text',{staticClass:\"fa-inverse\",staticStyle:{\"font-weight\":\"900\"},attrs:{\"transform\":\"shrink-11.5 rotate--30\",\"value\":\"NEW\"}})],1),_vm._v(\"最新商品\\n            \")],1)]),_vm._v(\" \"),_c('li',[_c('a',{staticClass:\"rounded bg-secondary px-1 px-sm-3\",class:{ 'active': _vm.category === '誠心推薦' },attrs:{\"href\":\"#\"},on:{\"click\":function($event){$event.preventDefault();return _vm.selectCategory('誠心推薦')}}},[_c('font-awesome-icon',{staticClass:\"mr-1\",attrs:{\"icon\":\"thumbs-up\"}}),_vm._v(\"誠心推薦\\n            \")],1)])])]),_vm._v(\" \"),_c('div',{staticClass:\"products-list col-lg-10\"},[_c('div',{staticClass:\"row\"},_vm._l((_vm.categoryProducts),function(item){return _c('div',{key:item.id,staticClass:\"col-lg-4 col-md-6 col-12 mb-3\"},[_c('div',{staticClass:\"card product-card\"},[_c('div',{staticClass:\"product-img\",style:({ 'backgroundImage':(\"url('\" + (item.imageUrl) + \"')\") })},[_c('router-link',{attrs:{\"to\":{ name: 'ProductDetail', params: { id: item.id }}}},[_c('div',{staticClass:\"more\"},[_vm._v(\"詳細商品...\")])])],1),_vm._v(\" \"),_c('div',{staticClass:\"card-body p-0 pt-4 pm-2 align-items-\"},[_c('h5',{staticClass:\"card-title\"},[_vm._v(_vm._s(item.title))]),_vm._v(\" \"),_c('p',{staticClass:\"card-text card-content text-gray-700\"},[_vm._v(_vm._s(item.description))]),_vm._v(\" \"),_c('div',{staticClass:\"card-price pt-3 d-flex justify-content-between align-items-end\"},[_c('span',{staticClass:\"price text-danger\"},[_vm._v(_vm._s(_vm._f(\"currency\")(item.price))+\" 元\")]),_vm._v(\" \"),(item.origin_price)?_c('span',{staticClass:\"orange-price\"},[_vm._v(_vm._s(_vm._f(\"currency\")(item.origin_price))+\" 元\")]):_vm._e()]),_vm._v(\" \"),_c('button',{staticClass:\"btn btn-outline-secondary w-100 mt-3\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){return _vm.addtoCart(item.id)}}},[_vm._v(\"加入購物車\")])])])])}),0)])])])])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-778bfad2\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/pages/frontend/Products.vue\n// module id = null\n// module chunks = ","var normalizeComponent = require(\"!../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./Products.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./Products.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-778bfad2\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./Products.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/pages/frontend/Products.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}