webpackJsonp([7],{gkPb:function(t,s,e){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var a=e("Dd8w"),i=e.n(a),r=e("NYxO"),l={data:function(){return{orderId:"",isLeave:!1}},created:function(){this.orderId=this.$route.params.orderId,this.getOrder()},computed:i()({},Object(r.c)("orderModules",["order"])),methods:{getOrder:function(){this.$store.dispatch("orderModules/getOrder",this.orderId),this.$store.dispatch("cartModules/getCart")},payOrder:function(){this.$store.dispatch("orderModules/payOrder",this.orderId),this.isLeave=!0}},beforeRouteLeave:function(t,s,e){this.isLeave?e():($("#CreateOrder").modal("show"),$(".confirm").on("click",function(){e()}),$(".cancel").on("click",function(){e(!1)}))}},d={render:function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",[e("div",{staticClass:"container p-3 p-md-4"},[t._m(0),t._v(" "),e("h2",{staticClass:"jam-title"},[t._v("訂單付款")]),t._v(" "),e("div",{staticClass:"row mb-5"},[e("div",{staticClass:"col-sm-4"},[e("div",{staticClass:"alert alert-success rounded-pill text-center",attrs:{role:"alert"}},[t._v("\n          1.填寫訂單\n          "),e("font-awesome-icon",{staticClass:"ml-2",attrs:{icon:"check"}})],1)]),t._v(" "),t._m(1),t._v(" "),t._m(2)]),t._v(" "),e("div",{staticClass:"my-4 row"},[e("table",{staticClass:"table border mx-auto col-10 col-md-8"},[t._m(3),t._v(" "),e("tbody",[e("tr",[e("th",{staticClass:"align-middle",attrs:{width:"200"}},[t._v("收件人姓名")]),t._v(" "),e("td",{staticClass:"align-middle"},[t._v(t._s(t.order.user.name))])]),t._v(" "),e("tr",[e("th",{staticClass:"align-middle",attrs:{width:"200"}},[t._v("收件人電話")]),t._v(" "),e("td",{staticClass:"align-middle"},[t._v(t._s(t.order.user.tel))])]),t._v(" "),e("tr",[e("th",{staticClass:"align-middle",attrs:{width:"200"}},[t._v("Email")]),t._v(" "),e("td",{staticClass:"align-middle"},[t._v(t._s(t.order.user.email))])]),t._v(" "),e("tr",[e("th",{staticClass:"align-middle",attrs:{width:"200"}},[t._v("收件人地址")]),t._v(" "),e("td",{staticClass:"align-middle"},[t._v(t._s(t.order.user.address))])]),t._v(" "),e("tr",[e("th",{staticClass:"align-middle",attrs:{width:"200"}},[t._v("備註")]),t._v(" "),e("td",{staticClass:"align-middle"},[t._v(t._s(t.order.message))])])])])]),t._v(" "),e("div",{staticClass:"my-4 row"},[e("table",{staticClass:"table border mx-auto col-10 col-md-8"},[t._m(4),t._v(" "),e("tbody",[e("tr",[e("th",{staticClass:"align-middle",attrs:{width:"200"}},[t._v("訂單成立時間")]),t._v(" "),e("td",{staticClass:"align-middle"},[t._v(t._s(t._f("turnTime")(t.order.create_at)))])]),t._v(" "),e("tr",[e("th",{staticClass:"align-middle",attrs:{width:"200"}},[t._v("訂單編號")]),t._v(" "),e("td",{staticClass:"align-middle"},[t._v(t._s(t.order.id))])]),t._v(" "),e("tr",[e("th",{staticClass:"align-middle",attrs:{width:"200"}},[t._v("總金額")]),t._v(" "),e("td",{staticClass:"align-middle text-danger"},[t._v(t._s(t._f("currency")(t.order.total))+" 元")])])])])]),t._v(" "),e("div",{staticClass:"my-4 row justify-content-center"},[e("div",{staticClass:"text-right col-10 col-md-8 px-0"},[e("button",{staticClass:"btn btn-light-red",on:{click:function(s){return s.preventDefault(),t.payOrder(s)}}},[t._v("確認付款")])])])]),t._v(" "),t._m(5)])},staticRenderFns:[function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"jam-icon text-center"},[s("img",{attrs:{src:e("l/Rc")}})])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"col-sm-4"},[s("div",{staticClass:"alert alert-success rounded-pill text-center",attrs:{role:"alert"}},[this._v("2.確認付款")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"col-sm-4"},[s("div",{staticClass:"alert alert-light rounded-pill text-center",attrs:{role:"alert"}},[this._v("3.訂單完成")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("thead",{staticClass:"bg-gray-100",staticStyle:{"border-top":"5px solid #87A861"}},[s("tr",[s("th",{attrs:{colspan:"2"}},[this._v("訂單訊息")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("thead",{staticClass:"bg-gray-100",staticStyle:{"border-top":"5px solid #EB8489"}},[s("tr",[s("th",{attrs:{colspan:"2"}},[this._v("訂單資料")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"modal fade",attrs:{id:"CreateOrder",tabindex:"-1",role:"dialog","aria-labelledby":"CreateOrderCenterTitle","aria-hidden":"true","data-backdrop":"static"}},[s("div",{staticClass:"modal-dialog modal-dialog-centered",attrs:{role:"document"}},[s("div",{staticClass:"modal-content"},[s("div",{staticClass:"modal-body leave-modal"},[s("p",[this._v("您的訂單尚未付款，確定要離開此頁?")]),this._v(" "),s("div",{staticClass:"text-right"},[s("button",{staticClass:"btn btn-outline-secondary mr-2 confirm",attrs:{type:"button","data-dismiss":"modal"}},[this._v("確定")]),this._v(" "),s("button",{staticClass:"btn btn-danger cancel",attrs:{type:"button","data-dismiss":"modal"}},[this._v("取消")])])])])])])}]},c=e("VU/8")(l,d,!1,null,null,null);s.default=c.exports}});
//# sourceMappingURL=7.db852d9834b03d9842cb.js.map