webpackJsonp([14],{"3WUk":function(t,e,a){t.exports=a.p+"static/img/logo_2@3x.683f5ad.png"},C4y7:function(t,e){},G190:function(t,e){},NHnr:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a("Dd8w"),o=a.n(s),n=a("7+uW"),i={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("router-view")],1)},staticRenderFns:[]};var r=a("VU/8")({name:"App"},i,!1,function(t){a("G190")},null,null).exports,c=a("/ocq"),l=a("NYxO"),d={data:function(){return{user:{username:"",password:""}}},computed:o()({},Object(l.c)(["isLoading"])),methods:{signin:function(){var t=this;this.$store.commit("LOADING",!0,{root:!0}),this.$http.post("https://vue-course-api.hexschool.io/admin/signin",this.user).then(function(e){e.data.success?(t.$store.commit("LOADING",!1,{root:!0}),console.log(e.data),t.$router.push("/admin/products_list")):(t.$store.commit("LOADING",!1,{root:!0}),alert("資料輸入錯誤！"))})}}},u={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("loading",{attrs:{active:t.isLoading},on:{"update:active":function(e){t.isLoading=e}}},[s("template",{slot:"default"},[s("img",{attrs:{src:a("PYFA")}})])],2),t._v(" "),s("div",{staticClass:"bg-login-image vh-100"},[s("div",{staticClass:"container"},[s("div",{staticClass:"row justify-content-center"},[s("div",{staticClass:"col col-md-6"},[s("div",{staticClass:"card o-hidden border-0 shadow-lg my-5"},[s("div",{staticClass:"card-body p-0"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-lg"},[s("div",{staticClass:"p-5"},[t._m(0),t._v(" "),s("form",{staticClass:"user",on:{submit:function(e){return e.preventDefault(),t.signin(e)}}},[s("div",{staticClass:"form-group"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.user.username,expression:"user.username"}],staticClass:"form-control form-control-user",attrs:{type:"email",id:"exampleInputEmail","aria-describedby":"emailHelp",placeholder:"mr_houdao2018@gmail.com"},domProps:{value:t.user.username},on:{input:function(e){e.target.composing||t.$set(t.user,"username",e.target.value)}}})]),t._v(" "),s("div",{staticClass:"form-group"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.user.password,expression:"user.password"}],staticClass:"form-control form-control-user",attrs:{type:"password",id:"exampleInputPassword",placeholder:"Password"},domProps:{value:t.user.password},on:{input:function(e){e.target.composing||t.$set(t.user,"password",e.target.value)}}})]),t._v(" "),t._m(1),t._v(" "),s("button",{staticClass:"btn btn-secondary btn-user btn-block text-light",attrs:{type:"submit"}},[t._v("Login")]),t._v(" "),s("hr"),t._v(" "),s("a",{staticClass:"btn btn-google btn-user btn-block",attrs:{href:"index.html"}},[s("font-awesome-icon",{attrs:{icon:["fab","google"]}}),t._v("\n                        Login with Google\n                      ")],1),t._v(" "),s("a",{staticClass:"btn btn-facebook btn-user btn-block",attrs:{href:"index.html"}},[s("font-awesome-icon",{attrs:{icon:["fab","facebook"]}}),t._v("\n                        Login with Facebook\n                      ")],1)]),t._v(" "),s("hr"),t._v(" "),t._m(2),t._v(" "),t._m(3)])])])])])])])])])],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"text-center"},[e("h1",{staticClass:"h4 text-gray-900 mb-4"},[this._v("後台登入")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"form-group"},[e("div",{staticClass:"custom-control custom-checkbox small"},[e("input",{staticClass:"custom-control-input",attrs:{type:"checkbox",id:"customCheck"}}),this._v(" "),e("label",{staticClass:"custom-control-label",attrs:{for:"customCheck"}},[this._v("Remember Me")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"text-center"},[e("a",{staticClass:"small",attrs:{href:"forgot-password.html"}},[this._v("Forgot Password?")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"text-center"},[e("a",{staticClass:"small",attrs:{href:"register.html"}},[this._v("Create an Account!")])])}]};var m=a("VU/8")(d,u,!1,function(t){a("yUxv")},"data-v-5ab8d483",null).exports,p={methods:{signout:function(){var t=this;this.$http.post("https://vue-course-api.hexschool.io/logout").then(function(e){console.log(e.data),t.$router.push("/index")})}}},h={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("nav",{staticClass:"navbar navbar-expand navbar-light bg-white topbar fixed-top shadow"},[s("router-link",{staticClass:"sidebar-brand d-flex align-items-center justify-content-center",attrs:{to:"/admin/products_list"}},[s("img",{attrs:{src:a("uEd0")}}),t._v(" "),s("img",{staticStyle:{height:"32px","margin-left":"8px"},attrs:{src:a("3WUk")}})]),t._v(" "),s("ul",{staticClass:"navbar-nav ml-auto"},[s("li",{staticClass:"nav-item dropdown no-arrow mx-1 d-none d-sm-block"},[s("a",{staticClass:"nav-link dropdown-toggle",attrs:{href:"#",id:"alertsDropdown",role:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"}},[s("font-awesome-icon",{attrs:{icon:"bell",transform:"grow-3.5"}}),t._v(" "),s("span",{staticClass:"badge badge-danger badge-counter"},[t._v("3+")])],1),t._v(" "),t._m(0)]),t._v(" "),s("div",{staticClass:"topbar-divider d-none d-sm-block"}),t._v(" "),s("li",{staticClass:"nav-item mx-1"},[s("router-link",{staticClass:"nav-link",attrs:{to:"/index"}},[s("font-awesome-icon",{staticClass:"mr-2",attrs:{icon:"home"}}),t._v(" "),s("span",{staticClass:"d-none d-sm-block"},[t._v("進入前台")])],1)],1),t._v(" "),s("li",{staticClass:"nav-item mx-1"},[s("a",{staticClass:"nav-link",attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.signout(e)}}},[s("font-awesome-icon",{staticClass:"mr-2",attrs:{icon:"sign-out-alt"}}),t._v(" "),s("span",{staticClass:"d-none d-sm-block"},[t._v("Logout")])],1)]),t._v(" "),s("li",{staticClass:"nav-item mx-1 sidebar-btn"},[s("a",{staticClass:"nav-link",attrs:{"data-toggle":"collapse",href:"#accordionSidebar",role:"button","aria-expanded":"false","aria-controls":"accordionSidebar"}},[s("font-awesome-icon",{staticClass:"mr-2",attrs:{icon:"bars"}})],1)])])],1)])},staticRenderFns:[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"dropdown-list dropdown-menu dropdown-menu-right shadow animated--grow-in",attrs:{"aria-labelledby":"alertsDropdown"}},[a("h6",{staticClass:"dropdown-header"},[t._v("Alerts Center")]),t._v(" "),a("a",{staticClass:"dropdown-item d-flex align-items-center",attrs:{href:"#"}},[a("div",{staticClass:"mr-3"},[a("div",{staticClass:"icon-circle bg-primary"},[a("i",{staticClass:"fas fa-file-alt text-white"})])]),t._v(" "),a("div",[a("div",{staticClass:"small text-gray-500"},[t._v("December 12, 2019")]),t._v(" "),a("span",{staticClass:"font-weight-bold"},[t._v("A new monthly report is ready to download!")])])]),t._v(" "),a("a",{staticClass:"dropdown-item d-flex align-items-center",attrs:{href:"#"}},[a("div",{staticClass:"mr-3"},[a("div",{staticClass:"icon-circle bg-success"},[a("i",{staticClass:"fas fa-donate text-white"})])]),t._v(" "),a("div",[a("div",{staticClass:"small text-gray-500"},[t._v("December 7, 2019")]),t._v("$290.29 has been deposited into your account!\n            ")])]),t._v(" "),a("a",{staticClass:"dropdown-item d-flex align-items-center",attrs:{href:"#"}},[a("div",{staticClass:"mr-3"},[a("div",{staticClass:"icon-circle bg-warning"},[a("i",{staticClass:"fas fa-exclamation-triangle text-white"})])]),t._v(" "),a("div",[a("div",{staticClass:"small text-gray-500"},[t._v("December 2, 2019")]),t._v("Spending Alert: We've noticed unusually high spending for your account.\n            ")])]),t._v(" "),a("a",{staticClass:"dropdown-item text-center small text-gray-500",attrs:{href:"#"}},[t._v("Show All Alerts")])])}]};var v={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("ul",{staticClass:"navbar-nav bg-gradient-secondary sidebar sidebar-dark col-md-3 col-lg-2 col-sm-2 navbar-collapse collapse d-sm-block overflow-auto",attrs:{id:"accordionSidebar"}},[a("div",{staticClass:"sidebar-heading mt-4"},[t._v("管理員")]),t._v(" "),a("li",{staticClass:"nav-item"},[a("router-link",{staticClass:"nav-link collapsed",attrs:{to:{name:"ProductsList"}}},[a("font-awesome-icon",{attrs:{icon:"box-open"}}),t._v(" "),a("span",[t._v("產品列表")])],1)],1),t._v(" "),a("li",{staticClass:"nav-item"},[a("router-link",{staticClass:"nav-link collapsed",attrs:{to:{name:"OrderList"}}},[a("font-awesome-icon",{attrs:{icon:"list"}}),t._v(" "),a("span",[t._v("訂單列表")])],1)],1),t._v(" "),a("li",{staticClass:"nav-item"},[a("router-link",{staticClass:"nav-link collapsed",attrs:{to:{name:"CouponsList"}}},[a("font-awesome-icon",{attrs:{icon:"ticket-alt",transform:{rotate:42}}}),t._v(" "),a("span",[t._v("優惠券")])],1)],1),t._v(" "),a("hr",{staticClass:"sidebar-divider"}),t._v(" "),a("div",{staticClass:"sidebar-heading"},[t._v("數據統計")]),t._v(" "),a("li",{staticClass:"nav-item"},[a("router-link",{staticClass:"nav-link",attrs:{to:"/admin/report"}},[a("font-awesome-icon",{attrs:{icon:"chart-bar"}}),t._v(" "),a("span",[t._v("Charts")])],1)],1)])])},staticRenderFns:[]};var f={components:{Navbar:a("VU/8")(p,h,!1,function(t){a("C4y7")},null,null).exports,Sidebar:a("VU/8")({},v,!1,function(t){a("USkX")},"data-v-1ec5a61c",null).exports,Alert:a("elsE").a},computed:o()({},Object(l.c)(["isLoading"]))},g={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("loading",{attrs:{active:t.isLoading},on:{"update:active":function(e){t.isLoading=e}}},[s("template",{slot:"default"},[s("img",{attrs:{src:a("PYFA")}})])],2),t._v(" "),s("Navbar"),t._v(" "),s("Alert"),t._v(" "),s("div",{staticClass:"container-fluid",staticStyle:{"margin-top":"70px"}},[s("div",{staticClass:"row"},[s("Sidebar"),t._v(" "),s("main",{staticClass:"col-md-9 ml-sm-auto col-lg-10 col-sm-10 px-md-4",attrs:{role:"main"}},[s("router-view")],1)],1)])],1)},staticRenderFns:[]},b=a("VU/8")(f,g,!1,null,null,null).exports;n.a.use(c.a);var C=new c.a({linkExactActiveClass:"active",scrollBehavior:function(t,e,a){return a||("Index"===t.name?{x:0,y:0}:{x:0,y:700})},routes:[{path:"*",redirect:"/index"},{path:"/",redirect:"/index",component:function(){return a.e(1).then(a.bind(null,"VO8C"))},children:[{path:"index",name:"Index",component:function(){return Promise.all([a.e(0),a.e(2)]).then(a.bind(null,"E1Rg"))}},{path:"products",name:"Products",component:function(){return a.e(5).then(a.bind(null,"0OJE"))}},{path:"product_detail/:id",name:"ProductDetail",component:function(){return a.e(6).then(a.bind(null,"270/"))}},{path:"cart",name:"Cart",component:function(){return Promise.all([a.e(0),a.e(3)]).then(a.bind(null,"nMWk"))}},{path:"customer_order",name:"CustomerOrder",component:function(){return Promise.all([a.e(0),a.e(4)]).then(a.bind(null,"l068"))}},{path:"payment/:orderId",name:"Payment",component:function(){return Promise.all([a.e(0),a.e(7)]).then(a.bind(null,"gkPb"))}},{path:"pay_complate/:orderId",name:"PayComplate",component:function(){return Promise.all([a.e(0),a.e(8)]).then(a.bind(null,"lGBN"))}}]},{path:"/login",name:"Login",component:m},{path:"",name:"Dashboard",component:b,children:[{path:"/admin/products_list",name:"ProductsList",component:function(){return Promise.all([a.e(0),a.e(10)]).then(a.bind(null,"GTva"))},meta:{requiresAuth:!0}},{path:"/admin/coupons_list",name:"CouponsList",component:function(){return Promise.all([a.e(0),a.e(12)]).then(a.bind(null,"H+qP"))},meta:{requiresAuth:!0}},{path:"/admin/order_list",name:"OrderList",component:function(){return Promise.all([a.e(0),a.e(11)]).then(a.bind(null,"zRUw"))},meta:{requiresAuth:!0}},{path:"/admin/report",name:"Report",component:function(){return a.e(9).then(a.bind(null,"I8xP"))},meta:{requiresAuth:!0}}]}]}),_=a("mtWM"),x=a.n(_),w=a("Rf8U"),A=a.n(w),y=a("C/JF"),D=a("fhbW"),E=a("DfMW"),O=a("Yu89"),L=a("1e6/"),G=a("ZZvs"),I=a.n(G),k=(a("SYh3"),a("sUu7")),M=a("wGWZ"),N=(a("K3J8"),{namespaced:!0,strict:!0,state:{products:[],product:[],category:"all"},actions:{getProducts:function(t){t.commit("LOADING",!0,{root:!0}),x.a.get("https://vue-course-api.hexschool.io/api/houdao/products/all").then(function(e){console.log(e.data),t.commit("LOADING",!1,{root:!0}),t.commit("PRODUCTS",e.data.products)})},getProduct:function(t,e){var a="https://vue-course-api.hexschool.io/api/houdao/product/"+e;t.commit("LOADING",!0,{root:!0}),x.a.get(a).then(function(e){console.log(e.data),t.commit("LOADING",!1,{root:!0}),t.commit("PRODUCT",e.data.product)})}},mutations:{PRODUCTS:function(t,e){t.products=e.filter(function(t){return 1===t.is_enabled})},SELECTCATEGORY:function(t,e){t.category=e},PRODUCT:function(t,e){t.product=e}},getters:{products:function(t){return t.products},category:function(t){return t.category},categoryProducts:function(t){var e=[];return"最新商品"===t.category?(t.products.forEach(function(a){a.category===t.category&&e.push(a)}),e):"誠心推薦"===t.category?(t.products.forEach(function(a){a.category===t.category&&e.push(a)}),e):t.products},product:function(t){return t.product}}}),S={namespaced:!0,strict:!0,state:{cart:{},addAnimated:!1},actions:{getCart:function(t){t.commit("LOADING",!0,{root:!0}),x.a.get("https://vue-course-api.hexschool.io/api/houdao/cart").then(function(e){console.log("cart",e.data),t.commit("LOADING",!1,{root:!0}),t.commit("CART",e.data.data)})},removeCartItem:function(t,e){var a="https://vue-course-api.hexschool.io/api/houdao/cart/"+e;t.commit("LOADING",!0,{root:!0}),x.a.delete(a).then(function(e){e.data.success&&(t.commit("LOADING",!1,{root:!0}),t.dispatch("getCart"))})},addtoCart:function(t,e){var a={product_id:e.id,qty:e.qty};t.commit("LOADING",!0,{root:!0}),t.commit("ADDANIMATED",!0),x.a.post("https://vue-course-api.hexschool.io/api/houdao/cart",{data:a}).then(function(e){e.data.success?(t.dispatch("getCart"),t.commit("LOADING",!1,{root:!0}),t.commit("ADDANIMATED",!1),t.dispatch("alertModules/updateMessage",{message:e.data.message,status:"success"},{root:!0})):t.dispatch("alertModules/updateMessage",{message:"加入購物車失敗，請稍後再試",status:"danger"},{root:!0})})},changeQty:function(t,e){var a=e.originCartId,s=e.originProductId,o=e.newQty,n="https://vue-course-api.hexschool.io/api/houdao/cart/"+a;t.commit("LOADING",!0,{root:!0});var i={product_id:s,qty:o};x.a.all([x.a.delete(n),x.a.post("https://vue-course-api.hexschool.io/api/houdao/cart",{data:i})]).then(x.a.spread(function(){t.dispatch("getCart"),t.commit("LOADING",!1,{root:!0})}))},addCouponCode:function(t,e){t.commit("LOADING",!0,{root:!0}),x.a.post("https://vue-course-api.hexschool.io/api/houdao/coupon",{data:e}).then(function(e){console.log(e.data),e.data.success?(t.commit("LOADING",!1,{root:!0}),t.dispatch("alertModules/updateMessage",{message:e.data.message,status:"success"},{root:!0}),t.dispatch("getCart")):(t.commit("LOADING",!1,{root:!0}),t.dispatch("alertModules/updateMessage",{message:e.data.message,status:"danger"},{root:!0}),t.dispatch("getCart"))})}},mutations:{CART:function(t,e){t.cart=e},ADDANIMATED:function(t,e){t.addAnimated=e}},getters:{cart:function(t){return t.cart},addAnimated:function(t){return t.addAnimated}}},P={namespaced:!0,strict:!0,state:{messages:[]},actions:{updateMessage:function(t,e){var a=e.message,s=e.status,o=Math.floor(new Date/1e3);t.commit("UPDATEMESSAGE",{timestamp:o,message:a,status:s}),t.dispatch("removeMessageWithTiming",o)},removeMessageWithTiming:function(t,e){setTimeout(function(){t.commit("REMOVEMESSAGEWITHTIMING",e)},3e3)}},mutations:{UPDATEMESSAGE:function(t,e){t.messages.push(e)},REMOVEMESSAGE:function(t,e){t.messages.splice(e,1)},REMOVEMESSAGEWITHTIMING:function(t,e){t.messages.forEach(function(a,s){a.timestamp===e&&t.messages.splice(s,1)})}},getters:{messages:function(t){return t.messages}}},T={namespaced:!0,strict:!0,state:{order:{user:{}}},actions:{creatOrder:function(t,e){t.commit("LOADING",!0,{root:!0}),x.a.post("https://vue-course-api.hexschool.io/api/houdao/order",{data:e}).then(function(e){console.log(e.data),e.data.success?(t.commit("LOADING",!1,{root:!0}),C.replace("/payment/"+e.data.orderId)):(t.commit("LOADING",!1,{root:!0}),t.dispatch("alertModules/updateMessage",{message:"出現錯誤，請重新再試",status:"danger"},{root:!0}))})},getOrder:function(t,e){var a="https://vue-course-api.hexschool.io/api/houdao/order/"+e;t.commit("LOADING",!0,{root:!0}),x.a.get(a).then(function(e){console.log(e.data),t.commit("LOADING",!1,{root:!0}),t.commit("GETORDER",e.data.order)})},payOrder:function(t,e){var a="https://vue-course-api.hexschool.io/api/houdao/pay/"+e;t.commit("LOADING",!0,{root:!0}),x.a.post(a).then(function(a){console.log(a.data),a.data.success?(t.commit("LOADING",!1,{root:!0}),C.replace("/pay_complate/"+e)):t.dispatch("alertModules/updateMessage",{message:"付款失敗，請稍後再結帳",status:"danger"},{root:!0})})}},mutations:{GETORDER:function(t,e){t.order=e}},getters:{order:function(t){return t.order}}};n.a.use(l.a);var R=new l.a.Store({strict:!0,state:{isLoading:!1,status:!1},actions:{updateLoading:function(t,e){t.commit("LOADING",e)},check:function(t){x.a.post("https://vue-course-api.hexschool.io/api/user/check").then(function(e){e.data.success?t.commit("STATUS",!0):t.commit("STATUS",!1)})}},mutations:{LOADING:function(t,e){t.isLoading=e},STATUS:function(t,e){t.status=e}},getters:{isLoading:function(t){return t.isLoading},status:function(t){return t.status}},modules:{productsModules:N,cartModules:S,alertModules:P,orderModules:T}});n.a.prototype.$bus=new n.a;var $=a("7t+N"),U=a.n($);n.a.use(A.a,x.a),n.a.config.productionTip=!1,window.$=U.a,y.c.add(E.a,O.a,D.a),n.a.component("font-awesome-icon",L.a),n.a.component("font-awesome-layers",L.b),n.a.component("font-awesome-layers-text",L.c),n.a.component("Loading",I.a),n.a.filter("currency",function(t){var e=Number(t);return e?"$"+e.toFixed(0).replace(/./g,function(t,e,a){return e&&"."!==t&&(a.length-e)%3==0?(", "+t).replace(/\s/g,""):t}):"$  0"}),n.a.filter("turnTime",function(t){return new Date(1e3*t).toLocaleDateString()}),x.a.defaults.withCredentials=!0,n.a.component("ValidationProvider",k.b),n.a.component("ValidationObserver",k.a),Object(k.d)("email",M.a),Object(k.d)("required",o()({},M.b,{message:"這個{_field_}欄位必須填寫"})),Object(k.c)({classes:{valid:"is-valid",invalid:"is-invalid"}}),new n.a({el:"#app",router:C,store:R,components:{App:r},template:"<App/>"}),C.beforeEach(function(t,e,a){if(console.log("to",t,"from",e,"next",a),t.meta.requiresAuth){x.a.post("https://vue-course-api.hexschool.io/api/user/check").then(function(t){console.log(t.data),t.data.success?a():a({path:"/login"})})}else a()})},PYFA:function(t,e,a){t.exports=a.p+"static/img/loading.a4a476d.png"},SYh3:function(t,e){},USkX:function(t,e){},elsE:function(t,e,a){"use strict";var s=a("Dd8w"),o=a.n(s),n=a("NYxO"),i={name:"Navbar",data:function(){return{}},computed:o()({},Object(n.c)("alertModules",["messages"])),methods:o()({},Object(n.d)("alertModules",["REMOVEMESSAGE"]))},r={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"message-alert"},t._l(t.messages,function(e,s){return a("div",{key:s,staticClass:"alert alert-dismissible",class:"alert-"+e.status},[t._v("\n    "+t._s(e.message)+"\n    "),a("button",{staticClass:"close",attrs:{type:"button","aria-label":"Close"},on:{click:function(e){return t.REMOVEMESSAGE(s)}}},[a("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])])}),0)},staticRenderFns:[]};var c=a("VU/8")(i,r,!1,function(t){a("j73G")},null,null);e.a=c.exports},j73G:function(t,e){},uEd0:function(t,e,a){t.exports=a.p+"static/img/logo_1@3x.083ea27.png"},yUxv:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.4457b3f7260cef07f531.js.map